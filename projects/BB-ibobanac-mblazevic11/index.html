<!DOCTYPE html>
<html lang="hr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Student Planner - BB Team</title>
    <link rel="stylesheet" href="style.css">
</head>
<body>
    <div class="container">
        <header>
            <h1>üìö Student Planner</h1>
            <p class="subtitle">Organiziraj svoje obveze i ispite - BB Team</p>
            <button id="theme-toggle" class="theme-toggle" title="Promijeni temu">
                <span class="theme-icon">üåô</span>
            </button>
        </header>

        <!-- Mjeseƒçni pregled -->
        <section class="monthly-overview">
            <h2>üìÖ Mjeseƒçni pregled</h2>
            <p id="current-month"></p>
            <div class="overview-stats">
                <div class="stat-card">
                    <div class="stat-number" id="total-tasks">0</div>
                    <div class="stat-label">Ukupno obveza</div>
                </div>
                <div class="stat-card">
                    <div class="stat-number" id="pending-tasks">0</div>
                    <div class="stat-label">Aktivne obveze</div>
                </div>
                <div class="stat-card">
                    <div class="stat-number" id="completed-tasks">0</div>
                    <div class="stat-label">Zavr≈°eno</div>
                </div>
                <div class="stat-card">
                    <div class="stat-number" id="upcoming-tasks">0</div>
                    <div class="stat-label">Nadolazeƒáe (7 dana)</div>
                </div>
            </div>
        </section>

        <!-- Glavni sadr≈æaj -->
        <div class="main-content">
            <!-- Dodaj obvezu -->
            <section class="add-task-section">
                <!-- Brzo dodavanje -->
                <div class="quick-add-section">
                    <h3>‚ö° Brzo dodavanje</h3>
                    <div class="quick-add-input-group">
                        <input 
                            type="text" 
                            id="quick-add-input" 
                            placeholder='npr. "Ispit Matematika 15.3."'
                            autocomplete="off"
                        >
                        <button id="quick-add-btn" type="button">+</button>
                    </div>
                    <div class="quick-add-hint">
                        <small>Primjeri: "Ispit Matematika 15.3." ‚Ä¢ "15.3. Projekt vi≈°ok" ‚Ä¢ "Zadaƒáa Fizika 20.3. hitno"</small>
                    </div>
                </div>

                <div class="divider">ILI</div>

                <h3>‚ûï Nova obveza</h3>
                <form id="task-form">
                    <div class="form-group">
                        <label for="task-title">Naziv obveze</label>
                        <input type="text" id="task-title" placeholder="npr. Kolokvij iz Matematike" required>
                    </div>
                    <div class="form-group">
                        <label for="task-date">Datum</label>
                        <input type="date" id="task-date" required>
                    </div>
                    <div class="form-group">
                        <label for="task-category">Kategorija</label>
                        <select id="task-category" required>
                            <option value="Ispit">Ispit</option>
                            <option value="Projekt">Projekt</option>
                            <option value="Zadaca">Zadaƒáa</option>
                            <option value="Osobno">Osobno</option>
                        </select>
                    </div>
                    <button type="submit">Dodaj obvezu</button>
                </form>
            </section>

            <!-- Moje obveze -->
            <section class="tasks-section">
                <h3>üìã Moje obveze</h3>
                <div class="filter-buttons">
                    <button class="filter-btn active" data-filter="all">Sve</button>
                    <button class="filter-btn" data-filter="Ispit">Ispiti</button>
                    <button class="filter-btn" data-filter="Projekt">Projekti</button>
                    <button class="filter-btn" data-filter="Zadaca">Zadaƒáe</button>
                    <button class="filter-btn" data-filter="Osobno">Osobno</button>
                    <button class="filter-btn" data-filter="active">Aktivne</button>
                    <button class="filter-btn" data-filter="completed">Zavr≈°ene</button>
                </div>
                <div class="tasks-list" id="tasks-list">
                    <div class="empty-state">
                        <div class="empty-state-icon">üìù</div>
                        <p>Nema≈° jo≈° nijednu obvezu.<br>Dodaj prvu da poƒçne≈° organizirati svoje obveze!</p>
                    </div>
                </div>
            </section>

            <!-- Pomodoro Timer -->
            <section class="pomodoro-section">
                <h2>üçÖ Pomodoro Timer</h2>
                <div class="timer-container">
                    <div class="timer-display" id="timer-display">25:00</div>
                    <div class="timer-controls">
                        <button id="start-btn" class="timer-btn start-btn">Start</button>
                        <button id="pause-btn" class="timer-btn pause-btn">Pauza</button>
                        <button id="reset-btn" class="timer-btn reset-btn">Reset</button>
                    </div>
                    <div class="timer-settings">
                        <div class="setting-group">
                            <label for="work-duration">Rad (min):</label>
                            <input type="number" id="work-duration" value="25" min="1" max="60">
                        </div>
                        <div class="setting-group">
                            <label for="break-duration">Pauza (min):</label>
                            <input type="number" id="break-duration" value="5" min="1" max="30">
                        </div>
                    </div>
                    <div class="timer-status" id="timer-status">Spreman za rad üí™</div>
                </div>
            </section>
        </div>
    </div>
    <!-- AI Chatbot Widget -->
    <div class="chat-widget">
        <button id="chat-toggle-btn" class="chat-toggle-btn">
            ü§ñ
        </button>
        <div class="chat-window" id="chat-window">
            <div class="chat-header">
                <h3>AI Asistent</h3>
                <button id="close-chat">‚úï</button>
            </div>
            <div class="chat-messages" id="chat-messages">
                <div class="message bot-message">
                    Bok! Ja sam tvoj AI asistent. Pitaj me bilo ≈°to o tvojim obvezama! üëã
                </div>
            </div>
            <div class="chat-input-area">
                <input type="text" id="chat-input" placeholder="Pitaj ne≈°to..." autocomplete="off">
                <button id="send-msg-btn">‚û§</button>
            </div>
        </div>
    </div>
    <script src="https://cdn.jsdelivr.net/npm/@supabase/supabase-js@2"></script>
    <script type="module" src="script.js"></script>
</body>
</html>